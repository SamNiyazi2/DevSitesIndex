@page
@model DevSitesIndex.Pages.Jobs.IndexModel

@{
    ViewData["Title"] = "Jobs - Index";


    // 09/16/2019 11:08 pm - SSN - [20190916-1123] - [013] - Adding job status




}

<h2>@ViewData["Title"]</h2>

@*// 04/12/2019 07:18 am - SSN - [20190412-0718] - Move timesheet implementation to job index page. Having imact on "Save and Stay" of Dev sites.*@

@*06/01/2019 11:24 am - SSN - Adding class="hidden-xs"*@
<div ng-app="timesheetApp">

    <p>
        <a asp-page="Create">Create New</a>
    </p>


    <div ng-controller="jobsIndexController">


        <table class="table table-responsive">

            <thead ng-controller="utilityController">
                <tr>
                    <th header-with-sort columnlist="item" sortmethod="$parent.$parent.sortMethod101(item)"   ng-repeat="item in fieldsList"></th>
                </tr>
            </thead>


            <tbody>

                <tr ng-repeat="job in databag.jobs">


                    <td>
                        {{job.projectTitle_ForActivity}}
                    </td>
                    <td>
                        {{job.jobTitle}}
                    </td>

                    <td class="indexNowrapCol hidden-xs">
                        {{job.dateAdded}}
                    </td>

                    <td class="indexNowrapCol hidden-xs">
                        {{job.dateUpdated}}
                        <br>
                        <b>
                            {{job.lastActivityDate}}

                        </b>
                    </td>

                    <td class="indexNowrapCol hidden-xs">
                        {{job.activityAge_ToString}}
                    </td>





                    <td class="indexNowrapCol">
                        <a href="/jobs/Edit?id={{job.jobID}}">Edit</a>
                        ||
                        <strong>

                            <a href="/jobs/Details?id={{job.jobID}}">Job's Details</a>
                            |
                            <a href="/projects/Details?id={{job.projectID}}">Project's Details</a>

                        </strong>
                        ||
                        <a href="/jobs/Delete?id={{job.jobID}}">Delete</a> |

                        <a ng-click="showCreateTimesheetForm(job.jobID)">Clock-in</a>

                    </td>


            </tbody>
        </table>
    </div>


</div>



@section Scripts {
    @{await Html.RenderPartialAsync("TimesheetAngularScripts");}



    @*
        09/16/2019 10:57 pm - SSN - [20190916-1123] - [012] - Adding job status
        Adding AngularJS
    *@


    <script src="~/js/Jobs/JobsIndexController.js" asp-append-version="true"></script>
    <script src="~/js/Util/headerWithSort.js" asp-append-version="true"></script>

}
